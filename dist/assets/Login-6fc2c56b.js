import{_ as n,u as g,b as w,L as x,F as y,d as L}from"./index-29587d46.js";import{r as o,j as e,a as r}from"./jsx-runtime-9fe3b506.js";import{l as E,L as v,P as N,a as P}from"./PulseLoader-c27a858d.js";import{F as S}from"./formik.esm-b0ac15df.js";import{D as F}from"./index-6e04f018.js";const R=o.lazy(()=>n(()=>import("./InputBox-19a4600a.js"),["assets/InputBox-19a4600a.js","assets/jsx-runtime-9fe3b506.js","assets/formik.esm-b0ac15df.js"])),k=o.lazy(()=>n(()=>import("./PasswordInput-84e06d94.js"),["assets/PasswordInput-84e06d94.js","assets/index-29587d46.js","assets/jsx-runtime-9fe3b506.js","assets/index-d96369d3.css"])),A=o.lazy(()=>n(()=>import("./LoginLayout-a42d0ace.js"),["assets/LoginLayout-a42d0ace.js","assets/jsx-runtime-9fe3b506.js","assets/index-29587d46.js","assets/index-d96369d3.css"])),z=()=>{const u=g(),l=o.useRef(null),[m,h]=o.useState(""),b={email:"",password:""},{mutate:f,isLoading:d}=w({mutationFn:P,onSuccess:a=>{L("AUTH_DETAILS",a.data.data.token),u("/home-insurance")},onError:a=>{var s,t;(t=(s=a.response)==null?void 0:s.data)!=null&&t.message&&h(a.response.data.message)}}),_=a=>{f(a)},c=a=>{var s;a.key==="Enter"&&((s=l.current)==null||s.handleSubmit())};return e(S,{innerRef:l,initialValues:b,onSubmit:_,validationSchema:E,children:({handleSubmit:a,values:s,errors:t,touched:p})=>e(A,{children:r("div",{className:"w-[37.5%] max-w-xl h-screen flex flex-col justify-center bg-white rounded-5 p-10",children:[e(F,{}),e("img",{src:v,alt:"logo",className:"mb-3 w-15"}),e("p",{className:"auth-head mb-7",children:"Login to your account"}),e("div",{className:`${t.email&&p.email?"mb-1":"mb-6"}`,children:e(R,{type:"text",name:"email",placeholder:"Email",onKeyUp:i=>c(i)})}),e("div",{className:`${t.password&&p.password?"mb-1":"mb-5"}`,children:e(k,{name:"password",placeholder:"Password",type:"password",onKeyUp:i=>c(i)})}),r("div",{className:"text-xs font-medium mb-10",children:[e("span",{children:"Forgot password?"})," ",e(x,{to:y,className:"text-primary underline",children:"Reset Here"})]}),r("div",{className:"relative",children:[m?e("div",{className:"text-error text-left text-sm first-letter:uppercase bg-white mb-2",children:m}):null,e("button",{onClick:()=>{s.email&&s.password&&!t.email&&!t.password&&a()},type:"submit",disabled:d,className:`primary-btn btn w-full h-11 ${!s.email&&!s.password||t.email||t.password?"disabled-btn":""} `,children:d?e(N,{size:10,color:"#FFF"}):"Login"})]})]})})})};export{z as default};
